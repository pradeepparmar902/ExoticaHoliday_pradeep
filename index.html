<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Exotica Holiday - Adventure Tours for Youth ðŸ”¥</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

    <!-- Tailwind CSS + Custom Config -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script>
      tailwind.config = {
        darkMode: "class",
        theme: {
          extend: {
            colors: {
              "primary": "#ff4d4d",
              "background-light": "#f8f5f5",
              "background-dark": "#230f0f",
            },
            fontFamily: {
              "display": ["Plus Jakarta Sans", "sans-serif"]
            },
            borderRadius: { "DEFAULT": "1rem", "lg": "2rem", "xl": "3rem", "2xl": "4rem", "full": "9999px" },
            boxShadow: {
                "soft": "0 20px 40px -10px rgba(0, 0, 0, 0.1)"
            }
          },
        },
      }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
</head>
<body class="bg-background-light font-display text-[#181010] antialiased">

    <!-- Navigation -->
   <header class="fixed top-0 left-0 right-0 z-50 transition-all duration-300 bg-white/90 backdrop-blur-md border-b border-[#f5f0f0]">
    <div class="max-w-[1280px] mx-auto px-6 lg:px-10 h-20 flex items-center justify-between">
        <!-- Left: Logo + Company Name (Dynamic from Firebase) -->
        <a href="index.html" class="flex items-center gap-3">
            <img id="siteLogo" src="" alt="Company Logo" class="h-10 w-auto rounded-lg object-contain hidden">
            <h2 id="siteName" class="text-[#181010] text-xl font-bold tracking-tight">Exotica Holiday</h2>
        </a>

        <!-- Center: Navigation Menu (Desktop only) -->
        <nav class="hidden lg:flex items-center gap-8">
            <a class="text-[#181010] hover:text-primary text-sm font-semibold transition-colors" href="index.html">Destinations</a>
            <a class="text-[#181010] hover:text-primary text-sm font-semibold transition-colors" href="#packages">Tours</a>
            <a class="text-[#181010] hover:text-primary text-sm font-semibold transition-colors" href="OtherServices.html">Other Services</a>
            <a class="text-[#181010] hover:text-primary text-sm font-semibold transition-colors" href="about.html">About</a>
            <a class="text-[#181010] hover:text-primary text-sm font-semibold transition-colors" href="Blog.html">Blog</a>
            <a class="text-[#181010] hover:text-primary text-sm font-semibold transition-colors" href="contact.html">Contact</a>
            <a class="text-[#181010] hover:text-primary text-sm font-semibold transition-colors" href="Review.html">Review</a>
        </nav>

        <!-- Right: Log In & Sign Up Buttons -->
        <div class="flex items-center gap-4">
            <button class="hidden sm:flex items-center justify-center rounded-full h-10 px-6 text-[#181010] text-sm font-bold hover:bg-gray-100 transition-colors">
                Log In
            </button>
            <button class="flex items-center justify-center rounded-full h-10 px-6 bg-primary text-white text-sm font-bold hover:bg-red-600 transition-colors shadow-lg shadow-primary/30">
                Sign Up
            </button>
        </div>
    </div>
</header>

    <!-- Hero Section -->
    <main class="relative pt-20 min-h-screen flex items-center justify-center overflow-hidden">
        <div class="absolute inset-0 z-0">
            <div class="absolute inset-0 bg-cover bg-center transition-all duration-1000 scale-105" style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuC4fy04WcxMSdRDxJTanjQiRIfXfMt5TUOIAbE8Cz5jS4BWOMjPrtxK8PZhSbF9MrmHczkiUM8bo6ptSD32EmlwdjFoZFDPMO96FIFpyXVG_fRYAWFVVdIgk3kqv6ZLo-x0HZpxRFbn_DcQYtRtgHEDadMTFIUmAxUjrkZasdnTZOQt6LImdFyez2D-4mpy04sUOg4skjz1Y_rVoDAzUhrNNmEklemw6OhdWtHv_GYrs2AaDPdQyTc7skcTDyWf7ZjyNBC-pL_YXCg');"></div>
            <div class="absolute inset-0 bg-gradient-to-r from-black/70 via-black/40 to-transparent"></div>
            <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent lg:hidden"></div>
        </div>

        <div class="relative z-10 w-full max-w-[1280px] mx-auto px-6 lg:px-10 py-12 lg:py-20 grid lg:grid-cols-2 gap-12 lg:gap-20 items-center">
            <!-- Left: Hero Text -->
            <div class="flex flex-col items-start gap-6 text-white max-w-xl">
                <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/10 backdrop-blur-md border border-white/20">
                    <span class="bg-primary text-white text-[10px] font-bold px-2 py-0.5 rounded-sm uppercase tracking-wider">Flash Deal</span>
                    <span class="text-sm font-medium text-white/90">Bali Packages start at $499 ðŸ”¥</span>
                </div>
                <div class="space-y-4">
                    <h1 class="text-5xl lg:text-7xl font-black leading-[1.1] tracking-tight drop-shadow-sm">
                        Unleash Your <br/>
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-primary to-orange-400">Wild Side.</span>
                    </h1>
                    <p class="text-lg text-white/80 font-medium leading-relaxed max-w-md">
                        <html
                    </p>
                </div>
                <div class="flex flex-wrap items-center gap-4 mt-2">
                    <button class="flex items-center justify-center h-14 px-8 rounded-full bg-primary text-white text-base font-bold hover:bg-red-600 hover:scale-105 transition-all duration-300 shadow-lg shadow-primary/40">
                        Explore Now
                    </button>
                    <button class="group flex items-center justify-center h-14 px-8 rounded-full bg-white/10 backdrop-blur-sm border border-white/20 text-white text-base font-bold hover:bg-white hover:text-primary transition-all duration-300">
                        <span class="material-symbols-outlined mr-2 group-hover:text-primary transition-colors">play_circle</span>
                        Watch Video
                    </button>
                </div>
                <div class="flex items-center gap-4 mt-6 pt-6 border-t border-white/10 w-full">
                    <div class="flex -space-x-3">
                        <img alt="Traveler" class="w-10 h-10 rounded-full border-2 border-white object-cover" src="https://lh3.googleusercontent.com/aida-public/AB6AXuDvyVsqjbwDe6Wiz6K5MRT7-rphzeSLOE0lW7k5pINi8IJXzVXk9aIXJ1CldRXaYoRhIqyviPuhr63sEmvXmh5v5tf-qeyeXYZOBzMShd_8sBl9MvnpV5ViVQItWgW-nlclLZkokWB1iHFB31NfGFTZJIMviFL5onPE_EMc967WElZC35p6boB7JB_gkXLS4_DTEJSIj8CoND5cQQeXKzHXomWMoFonO_u4OH68jmsP2qwr7hvCOdhp-BrqBvUx5hRHPa68hslFGKc"/>
                        <img alt="Traveler" class="w-10 h-10 rounded-full border-2 border-white object-cover" src="https://lh3.googleusercontent.com/aida-public/AB6AXuBopelj7VYNCm8A65C9oCtkZ8f7W6bFWTb898wuvBOuKVr46_YNjAZ7K0VAumGG004_MUrtN4eXDLHy7eIWutVW6tRphI-1r52DLb9b1uLEXYYPgk8CSmu2ynMpEhmU-5unLG2gDOhT-IB5KexIk7gPp58pkZBBw-5KzsUmj8CCOQFELh_sdwt8orbMWEBx5Hh2nvBhbt2S7GhksvGUVbcKo-RXkDyeXcu9iM51ZTFQIdyfkJ6VSyiBpMmDIRvw9nMwW709QpcpFfk"/>
                        <img alt="Traveler" class="w-10 h-10 rounded-full border-2 border-white object-cover" src="https://lh3.googleusercontent.com/aida-public/AB6AXuA48k3i4l-SSYB-92QQEZruvf4jZ5tLfl7oyCiyYnJEYXkj2-xGBsuCnQgr86w1UR1JB-yVIivaXp2rv_rkwtVaFOKZF5DQ0lTM3-nDalpQfVflb3F-OFohUb0FR29B8WavyROa_ge0HLEwwXZGNXnm2Wcp1BHr9JVY_KK4DNaEHDTpcn3grhxTDL7HzDoTYjYEfKOfLxUxSPkz-iRuJleCTQGzCM3hPCFwcLTa2hZTCZbG-EnE2ml8YHwo-iAxZtpDUIO6irz8i6w"/>
                        <div class="w-10 h-10 rounded-full border-2 border-white bg-background-dark flex items-center justify-center text-xs font-bold text-white">
                            +2k
                        </div>
                    </div>
                    <div class="flex flex-col">
                        <div class="flex text-yellow-400 text-sm">
                            <span class="material-symbols-outlined text-[16px] fill-current">star</span>
                            <span class="material-symbols-outlined text-[16px] fill-current">star</span>
                            <span class="material-symbols-outlined text-[16px] fill-current">star</span>
                            <span class="material-symbols-outlined text-[16px] fill-current">star</span>
                            <span class="material-symbols-outlined text-[16px] fill-current">star</span>
                        </div>
                        <span class="text-sm font-medium text-white/80">Trusted by adventurers</span>
                    </div>
                </div>
            </div>

            <!-- Right: Booking Widget with Your Original Forms -->
            <div class="w-full max-w-md ml-auto">
                <div class="bg-white rounded-[2rem] shadow-soft p-6 lg:p-8 backdrop-blur-xl bg-white/95">
                    <div class="mb-6">
                        <h3 class="text-2xl font-bold text-[#181010]">Book Your Adventure</h3>
                        <p class="text-sm text-gray-500 mt-1">Plan the trip of a lifetime.</p>
                    </div>

                    <!-- Tabs -->
                    <div class="flex p-1 bg-background-light rounded-full mb-6">
                        <button class="tab-btn active flex-1 flex items-center justify-center gap-2 py-2.5 rounded-full bg-white shadow-sm text-primary text-sm font-bold" data-tab="package">
                            <span class="material-symbols-outlined text-[20px]">backpack</span> Package
                        </button>
                        <button class="tab-btn flex-1 flex items-center justify-center gap-2 py-2.5 rounded-full text-gray-500 hover:text-[#181010] text-sm font-semibold transition-all" data-tab="car">
                            <span class="material-symbols-outlined text-[20px]">directions_car</span> Car
                        </button>
                        <button class="tab-btn flex-1 flex items-center justify-center gap-2 py-2.5 rounded-full text-gray-500 hover:text-[#181010] text-sm font-semibold transition-all" data-tab="cruise">
                            <span class="material-symbols-outlined text-[20px]">sailing</span> Cruise
                        </button>
                        <button class="tab-btn flex-1 flex items-center justify-center gap-2 py-2.5 rounded-full text-gray-500 hover:text-[#181010] text-sm font-semibold transition-all" data-tab="visa">
                            <span class="material-symbols-outlined text-[20px]">badge</span> Visa
                        </button>
                    </div>




                    <!-- Tab Content -->
                    <div class="tab-content">
                        <!-- Package Tab -->
                        <div id="package-tab" class="tab-pane active">
                            <form id="packageBookingForm" class="flex flex-col gap-4">
                                <h2 class="text-xl font-bold mb-2">Book Your Package</h2>
                                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                                    <input type="text" id="name" name="name" placeholder="Name" class="px-4 py-3 rounded-xl border border-gray-300" required>
                                    <input type="number" id="persons" name="persons" min="1" placeholder="# of Person" class="px-4 py-3 rounded-xl border border-gray-300" required>
                                    <input type="tel" id="phone" name="phone" placeholder="Mobile Phone Number" class="px-4 py-3 rounded-xl border border-gray-300" required>
                                </div>
                                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                                    <select id="package" name="package" class="px-4 py-3 rounded-xl border border-gray-300" required>
                                        <option value="">Select Package</option>
                                        <!-- Filled by JS -->
                                    </select>
                                    <input type="date" id="travelDate" name="travelDate" class="px-4 py-3 rounded-xl border border-gray-300" required>
                                    <select id="hotelCategory" name="hotelCategory" class="px-4 py-3 rounded-xl border border-gray-300" required>
                                        <option value="">Hotel Category</option>
                                        <option value="3star">3 Star</option>
                                        <option value="4star">4 Star</option>
                                        <option value="5star">5 Star</option>
                                    </select>
                                </div>
                                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                    <select id="mealType" name="mealType" class="px-4 py-3 rounded-xl border border-gray-300" required>
                                        <option value="">Meal Type</option>
                                        <option value="breakfast">Breakfast</option>
                                        <option value="bfast-lunch-dinner">B.Fast-Lunch-Dinner</option>
                                        <option value="only-room">Only Hotel Room</option>
                                    </select>
                                    <input type="email" id="email" name="email" placeholder="Email Address" class="px-4 py-3 rounded-xl border border-gray-300" required>
                                </div>
                                <div class="flex flex-col gap-4">
                                    <textarea id="additionalInfo" name="additionalInfo" rows="4" placeholder="Additional Information" class="px-4 py-3 rounded-xl border border-gray-300 resize-none"></textarea>
                                    <button type="submit" class="w-full h-14 bg-primary text-white rounded-full font-bold text-lg hover:bg-red-600 transition-all duration-300 shadow-xl shadow-primary/20">
                                        Book Now
                                    </button>
                                </div>
                            </form>
                        </div>

                        <!-- Car Tab -->
                        <div id="car-tab" class="tab-pane hidden">
                            <form id="carBookingForm" class="flex flex-col gap-4">
                                <h2 class="text-xl font-bold mb-2">Book Your Car</h2>
                                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                    <input type="text" placeholder="Name" class="px-4 py-3 rounded-xl border border-gray-300" required>
                                    <input type="tel" placeholder="Mobile Phone Number" class="px-4 py-3 rounded-xl border border-gray-300" required>
                                </div>
                                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                    <input type="text" placeholder="Pick-up Location" class="px-4 py-3 rounded-xl border border-gray-300" required>
                                    <input type="text" placeholder="Destination Location" class="px-4 py-3 rounded-xl border border-gray-300" required>
                                </div>
                                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                                    <input type="date" placeholder="Pick-up Date" class="px-4 py-3 rounded-xl border border-gray-300" required>
                                    <input type="date" placeholder="Drop-off Date" class="px-4 py-3 rounded-xl border border-gray-300" required>
                                    <select class="px-4 py-3 rounded-xl border border-gray-300" required>
                                        <option value="">Vehicle Type</option>
                                        <option value="sedan">Sedan</option>
                                        <option value="suv">SUV</option>
                                        <option value="innova">Innova</option>
                                    </select>
                                </div>
                                <div class="flex flex-col gap-4">
                                    <textarea rows="3" placeholder="Special Requests" class="px-4 py-3 rounded-xl border border-gray-300 resize-none"></textarea>
                                    <button type="submit" class="w-full h-14 bg-primary text-white rounded-full font-bold text-lg hover:bg-red-600 transition-all duration-300 shadow-xl shadow-primary/20">
                                        Search & Book
                                    </button>
                                </div>
                            </form>
                        </div>

                        <!-- Cruise Tab -->
                        <div id="cruise-tab" class="tab-pane hidden">
                            <form id="cruiseBookingForm" class="flex flex-col gap-4">
                                <h2 class="text-xl font-bold mb-2">Book Your Cruise</h2>
                                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                    <input type="text" placeholder="Name" class="px-4 py-3 rounded-xl border border-gray-300" required>
                                    <input type="tel" placeholder="Mobile Phone Number" class="px-4 py-3 rounded-xl border border-gray-300" required>
                                </div>
                                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                    <input type="text" placeholder="Destination / Port" class="px-4 py-3 rounded-xl border border-gray-300" required>
                                    <input type="date" placeholder="Departure Date" class="px-4 py-3 rounded-xl border border-gray-300" required>
                                </div>
                                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                    <select class="px-4 py-3 rounded-xl border border-gray-300" required>
                                        <option value="">Duration</option>
                                        <option value="3n">3 Nights</option>
                                        <option value="5n">5 Nights</option>
                                    </select>
                                    <input type="number" placeholder="Guests" min="1" class="px-4 py-3 rounded-xl border border-gray-300" required>
                                </div>
                                <div class="flex flex-col gap-4">
                                    <textarea rows="3" placeholder="Special Requests" class="px-4 py-3 rounded-xl border border-gray-300 resize-none"></textarea>
                                    <button type="submit" class="w-full h-14 bg-primary text-white rounded-full font-bold text-lg hover:bg-red-600 transition-all duration-300 shadow-xl shadow-primary/20">
                                        Enquire Now
                                    </button>
                                </div>
                            </form>
                        </div>

                        <!-- Visa Tab -->
                        <div id="visa-tab" class="tab-pane hidden">
                            <form id="visaBookingForm" class="flex flex-col gap-4">
                                <h2 class="text-xl font-bold mb-2">Book Your Visa</h2>
                                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                    <input type="text" id="visaName" placeholder="Name" class="px-4 py-3 rounded-xl border border-gray-300" required>
                                    <input type="tel" id="visaPhone" placeholder="Mobile Phone Number" class="px-4 py-3 rounded-xl border border-gray-300" required>
                                </div>
                                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                    <input type="email" id="visaEmail" placeholder="Email" class="px-4 py-3 rounded-xl border border-gray-300" required>
                                    <input type="tel" id="visaPhone2" placeholder="Alternate Phone" class="px-4 py-3 rounded-xl border border-gray-300" required>
                                </div>
                                <div class="grid grid-cols-1 gap-4">
                                    <select id="visaDestination" class="px-4 py-3 rounded-xl border border-gray-300" required>
                                        <option value="">Destination Country</option>
                                        <option value="usa">USA</option>
                                        <option value="uk">UK</option>
                                        <option value="dubai">Dubai</option>
                                    </select>
                                </div>
                                <div class="flex flex-col gap-4">
                                    <textarea id="visaDetails" rows="4" placeholder="Travel Details / Purpose" class="px-4 py-3 rounded-xl border border-gray-300 resize-none"></textarea>
                                    <button type="submit" class="w-full h-14 bg-primary text-white rounded-full font-bold text-lg hover:bg-red-600 transition-all duration-300 shadow-xl shadow-primary/20">
                                        Request Visa Help
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Packages Section -->
    <section id="packages" class="py-20 bg-white">
        <div class="max-w-[1280px] mx-auto px-6 lg:px-10">
            <h2 class="text-4xl lg:text-5xl font-black text-center mb-12 text-[#181010]">Upcoming Holiday Packages</h2>
            <div class="flex flex-col sm:flex-row justify-center items-center gap-4 mb-12">
                <select id="categoryFilter" class="px-6 py-3 rounded-full border border-gray-300 text-sm font-medium">
                    <option value="">All Categories</option>
                    <option value="International">International</option>
                    <option value="India">India</option>
                    <option value="Local">Local</option>
                    <option value="Hill station">Hill Station</option>
                </select>
                <input type="search" id="tagSearch" placeholder="Search by tag (e.g., Summer Vacation)" class="px-6 py-3 rounded-full border border-gray-300 text-sm font-medium w-full sm:w-auto"/>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8" id="packagesGrid">
    <!-- Dynamic cards inserted here -->
</div>
        </div>
    </section>
    <!-- Modal -->
    <div id="detailsModal" class="fixed inset-0 z-50 hidden flex items-center justify-center bg-black/60">
        <div class="bg-white rounded-3xl shadow-soft max-w-lg w-full mx-4 p-8">
            <span class="close float-right text-3xl cursor-pointer text-gray-500 hover:text-gray-800">&times;</span>
            <h2 id="modalTitle" class="text-2xl font-bold mb-4"></h2>
            <div id="modalDescription" class="text-gray-600"></div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-[#181010] text-white py-12">
        <div class="max-w-[1280px] mx-auto px-6 lg:px-10 text-center">
            <h3 class="text-3xl font-bold mb-4">Exotica Holiday</h3>
            <p class="mb-2">Adventure Tours | Group Trips | Backpacking | Biking</p>
            <p class="mb-2">Follow us on Instagram: @exoticaholiday</p>
            <p class="text-sm text-white/70">Â© 2025 Exotica Holiday. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Firebase Config
        const firebaseConfig = {
            apiKey: "AIzaSyDdfXeJG76KTsVUIBuAdFQ_uejrImaPQaw",
            authDomain: "exotica-hoidays.firebaseapp.com",
            projectId: "exotica-hoidays",
            storageBucket: "exotica-hoidays.firebasestorage.app",
            messagingSenderId: "151952804646",
            appId: "1:151952804646:web:8417305702390c9e538fe7",
            measurementId: "G-X011TY1K5Y"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        let packages = [];

        function renderPackages(filteredPackages = packages) {
            const grid = document.getElementById('packagesGrid');
            grid.innerHTML = '';

            if (filteredPackages.length === 0) {
                grid.innerHTML = '<p class="text-center col-span-full text-gray-500">No packages found.</p>';
                return;
            }

            filteredPackages.forEach(pkg => {
                const card = document.createElement('div');
                card.className = 'flip-card';
                card.dataset.package = pkg.dataPackage || pkg.id;

               card.innerHTML = `
    <div class="group h-[480px] w-full [perspective:1200px]">
        <div class="relative h-full w-full rounded-2xl shadow-xl transition-all duration-700 [transform-style:preserve-3d] group-hover:[transform:rotateY(180deg)] bg-white">
            <!-- Front Side -->
            <div class="absolute inset-0 h-full w-full rounded-2xl [backface-visibility:hidden] flex flex-col overflow-hidden">
                <div class="h-56 bg-cover bg-center" style="background-image: url('${pkg.imageUrl || ''}')"></div>
                <div class="flex-1 p-6 flex flex-col justify-between">
                    <div>
                        <h3 class="text-2xl font-bold text-[#181010] mb-3">${pkg.title || 'Untitled Package'}</h3>
                        <div class="flex items-center gap-3 mb-4">
                            ${pkg.saleText ? `<span class="bg-primary text-white text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wider">${pkg.saleText}</span>` : ''}
                            <span class="text-3xl font-black text-primary">â‚¹${pkg.price || '0'}</span>
                            ${pkg.oldPrice ? `<span class="text-lg text-gray-500 line-through">â‚¹${pkg.oldPrice}</span>` : ''}
                        </div>
                        <p class="text-gray-600 mb-4 line-clamp-3">${pkg.description || ''}</p>
                        <p class="text-sm font-medium text-gray-500">
                            <span class="font-bold text-[#181010]">${pkg.location || ''}</span> â€¢ ${pkg.duration || ''}
                        </p>
                    </div>
                    <button class="w-full mt-6 bg-primary text-white py-4 rounded-xl font-bold hover:bg-red-600 transition-all duration-300 shadow-lg hover:shadow-primary/30">
                        View Details
                    </button>
                </div>
            </div>

            <!-- Back Side -->
            <div class="absolute inset-0 h-full w-full rounded-2xl bg-gradient-to-br from-blue-900 to-primary text-white [backface-visibility:hidden] [transform:rotateY(180deg)] p-8 flex flex-col justify-center items-center text-center">
                <h3 class="text-3xl font-black mb-8">${pkg.title || 'Untitled'}</h3>
                <ul class="space-y-6 mb-10 text-lg">
                    <li class="flex items-center justify-center gap-4">
                        <span class="material-symbols-outlined text-2xl">location_on</span>
                        <span>${pkg.location || ''}</span>
                    </li>
                    <li class="flex items-center justify-center gap-4">
                        <span class="material-symbols-outlined text-2xl">calendar_today</span>
                        <span>${pkg.duration || ''}</span>
                    </li>
                </ul>
                <div class="space-y-4 w-full max-w-xs">
                    <a href="contact.html?package=${encodeURIComponent(pkg.dataPackage || pkg.id)}" class="block w-full bg-white text-primary py-4 rounded-xl font-bold hover:bg-gray-100 transition-all duration-300 shadow-lg">
                        Book Now
                    </a>
                    <button class="more-details w-full border-2 border-white text-white py-4 rounded-xl font-bold hover:bg-white/20 transition-all duration-300">
                        More Details
                    </button>
                </div>
            </div>
        </div>
    </div>
              `;
                grid.appendChild(card);
            });

            attachFlipCardListeners();
        }

        function attachFlipCardListeners() {
            document.querySelectorAll('.flip-card').forEach(card => {
                const inner = card.querySelector('.flip-card-inner');

                card.addEventListener('click', e => {
                    if (e.target.closest('.more-details')) {
                        e.stopPropagation();
                        const pkg = packages.find(p => (p.dataPackage || p.id) === card.dataset.package);
                        if (pkg) {
                            document.getElementById('modalTitle').textContent = pkg.title || 'Package Details';
                            document.getElementById('modalDescription').innerHTML = pkg.moreDetails || pkg.description || 'No additional details available.';
                            document.getElementById('detailsModal').classList.remove('hidden');
                        }
                        return;
                    }
                    inner.classList.toggle('flipped');
                });
            });
        }

        // Load packages from Firebase
        document.addEventListener('DOMContentLoaded', () => {
    const grid = document.getElementById('packagesGrid');
    grid.innerHTML = '<p class="text-center col-span-full py-10">Loading packages...</p>';

    db.collection('packages').get()
        .then(snapshot => {
            grid.innerHTML = '';
            packages = [];
            snapshot.forEach(doc => {
                const data = doc.data();
                data.id = doc.id;
                // Optional sortOrder - if missing, still add the package
                data.sortOrder = data.sortOrder !== undefined ? Number(data.sortOrder) : 9999;
                packages.push(data);
            });

            // Sort by sortOrder (lowest first), but ALL packages are included
            packages.sort((a, b) => a.sortOrder - b.sortOrder);

            renderPackages(packages); // This will show ALL packages
        })
        .catch(err => {
            console.error("Error loading packages:", err);
            grid.innerHTML = '<p class="text-center col-span-full text-red-500 py-10">Error loading packages.</p>';
        });
});

let allPackages = [];

// Populate the correct dropdown
function populatePackageDropdown() {
    const packageSelect = document.querySelector('#package-tab select#package');
    if (!packageSelect) {
        console.error("Package dropdown not found inside Package tab!");
        return;
    }

    packageSelect.innerHTML = '<option value="">Select Package</option>';

    if (allPackages.length === 0) {
        packageSelect.innerHTML += '<option disabled>No packages available</option>';
        return;
    }

    allPackages.forEach(pkg => {
        const option = document.createElement('option');
        option.value = pkg.dataPackage || pkg.id;
        option.textContent = `${pkg.title} â€¢ ${pkg.duration || 'N/A'} â€¢ â‚¹${pkg.price || '0'}`;
        if (pkg.saleText) option.textContent += ` [${pkg.saleText}]`;
        packageSelect.appendChild(option);
    });

    console.log(`Package dropdown populated with ${allPackages.length} items`);
}

// In your Firebase loading code, call it after loading packages
document.addEventListener('DOMContentLoaded', () => {
    const grid = document.getElementById('packagesGrid');
    grid.innerHTML = '<p class="text-center col-span-full py-10 text-gray-500">Loading packages...</p>';

    db.collection('packages')
        .orderBy('sortOrder')
        .get()
        .then(snapshot => {
            allPackages = [];
            snapshot.forEach(doc => {
                const data = doc.data();
                data.id = doc.id;
                data.sortOrder = data.sortOrder ?? 9999;
                allPackages.push(data);
            });

            allPackages.sort((a, b) => a.sortOrder - b.sortOrder);

            renderPackages(allPackages);

            // NOW IT WILL WORK â€” targets the correct dropdown inside the form
            populatePackageDropdown();
        })
        .catch(err => {
            console.error("Error:", err);
            grid.innerHTML = '<p class="text-center col-span-full py-10 text-red-500">Error loading packages</p>';
        });
});




        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active', 'bg-white', 'shadow-sm', 'text-primary'));
                document.querySelectorAll('.tab-pane').forEach(p => p.classList.add('hidden'));

                btn.classList.add('active', 'bg-white', 'shadow-sm', 'text-primary');
                const tabId = btn.getAttribute('data-tab');
                document.getElementById(`${tabId}-tab`).classList.remove('hidden');
            });
        });


        // Modal close
        document.querySelector('.close').addEventListener('click', () => {
            document.getElementById('detailsModal').classList.add('hidden');
        });
// Load Company Name & Logo from Firebase
document.addEventListener('DOMContentLoaded', () => {
    db.collection('settings').doc('header').get().then(doc => {
        if (doc.exists) {
            const data = doc.data();
            
            // Update company name
            const siteNameEl = document.getElementById('siteName');
            if (siteNameEl && data.companyName) {
                siteNameEl.textContent = data.companyName;
            }

            // Update logo
            const siteLogoEl = document.getElementById('siteLogo');
            if (siteLogoEl && data.companyLogo) {
                siteLogoEl.src = data.companyLogo;
                siteLogoEl.classList.remove('hidden'); // Show logo
                siteLogoEl.classList.add('block');
            }
        }
    }).catch(err => {
        console.error("Error loading header settings:", err);
    });
});

    </script>
</body>
</html>
